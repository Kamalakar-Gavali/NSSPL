(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),a=n(18),r=n.n(a),i=(n(25),n(3)),l=n(10),o=n(4),j=n(0),u=function(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(""),l=Object(i.a)(r,2),o=l[0],u=l[1];return Object(j.jsxs)("div",{className:"form-wrapper",children:[Object(j.jsx)("h1",{children:"Add Task here"}),Object(j.jsxs)("div",{className:"form-content",children:[Object(j.jsx)("label",{className:"error",children:e.error}),Object(j.jsx)("label",{className:"result",children:e.result}),Object(j.jsx)("input",{type:"text",value:c,className:"input-style",placeholder:"Enter Task Title",onChange:function(e){return a(e.target.value)},onFocus:function(){e.setError(""),e.setResult("")}}),Object(j.jsx)("input",{type:"text",value:o,className:"input-style",placeholder:"Enter Description here",onChange:function(e){return u(e.target.value)},onFocus:function(){e.setError(""),e.setResult("")}}),Object(j.jsx)("button",{type:"button",className:" input-style btn",onClick:function(){var t=c.trim(),n=o.trim();if(""!==t&&""!==n){var s={};s.taskTitle=t,s.taskDesc=n,s.createdBy=e.currentUser,s.createdAt=new Date,s.assignedTo="",s.status="Pending",fetch("/addTask",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.ok?(a(""),u(""),e.setUpdate(e.update+1),e.setResult(t.msg),e.setError("")):(e.setResult(""),e.setError(t.msg))}))}else e.setError("All fields Are Compulsory")},children:"Add Task"})]})]})},d=n(14),b=n.n(d),h=n(19),O=function(e){var t=Object(s.useState)([{name:"pop",email:"pop@gmail.com"},{name:"kg",email:"kg@gmail.com"}]),n=Object(i.a)(t,2),c=n[0],a=(n[1],Object(s.useState)("")),r=Object(i.a)(a,2),l=(r[0],r[1],function(){var t=Object(h.a)(b.a.mark((function t(n,s,c){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("/tasks",{method:"PUT",body:JSON.stringify({id:n,prevUserEmail:s,newAssignedUser:c}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setUpdate(e.update+1),alert(t.msg)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,s){return t.apply(this,arguments)}}());return Object(j.jsxs)(j.Fragment,{children:[console.log(e.users),console.log("users"+c[0].email),Object(j.jsxs)("table",{className:"table-style",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Id"}),Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Created By"}),Object(j.jsx)("th",{children:"Created At"}),Object(j.jsx)("th",{children:"AssignedTo"}),Object(j.jsx)("th",{children:"Status"})]})}),Object(j.jsx)("tbody",{children:e.taskList.map((function(t,n){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t._id}),Object(j.jsx)("td",{children:t.taskTitle}),Object(j.jsx)("td",{children:t.taskDesc}),Object(j.jsx)("td",{children:t.createdBy}),Object(j.jsx)("td",{children:t.createdAt}),Object(j.jsx)("td",{children:Object(j.jsx)("select",{className:"input-style",value:t.assignedTo,onChange:function(e){return l(t._id,t.assignedTo,e.target.value)},children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("option",{value:t.assignedTo,children:t.assignedTo}),e.users.map((function(e,t){return Object(j.jsx)("option",{value:e.email,children:e.email})}))]})})}),Object(j.jsx)("td",{children:t.status})]},n)}))})]})]})};var p=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(i.a)(a,2),d=r[0],b=r[1],h=Object(s.useState)(""),p=Object(i.a)(h,2),m=p[0],x=p[1],f=Object(s.useState)(""),g=Object(i.a)(f,2),v=g[0],y=g[1],k=Object(s.useState)(""),N=Object(i.a)(k,2),C=N[0],S=N[1],T=Object(s.useState)(""),E=Object(i.a)(T,2),A=E[0],F=E[1],w=Object(s.useState)(""),L=Object(i.a)(w,2),P=L[0],U=L[1],D=Object(s.useState)(""),I=Object(i.a)(D,2),J=I[0],R=I[1],B=Object(s.useState)(""),z=Object(i.a)(B,2),M=z[0],Z=z[1],_=Object(s.useState)(""),G=Object(i.a)(_,2),V=G[0],Y=G[1],$=Object(s.useState)(""),K=Object(i.a)($,2),q=K[0],H=K[1],Q=Object(s.useState)(),W=Object(i.a)(Q,2),X=W[0],ee=W[1],te=Object(s.useState)(""),ne=Object(i.a)(te,2),se=ne[0],ce=ne[1],ae=Object(s.useState)([]),re=Object(i.a)(ae,2),ie=re[0],le=re[1],oe=Object(s.useState)(0),je=Object(i.a)(oe,2),ue=je[0],de=je[1],be=function(e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)};return Object(s.useEffect)((function(){fetch("/tasks",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log(t),ee(t)})),console.log(X)}),[n,ue]),Object(s.useEffect)((function(){fetch("/users",{method:"POST",body:JSON.stringify({groupId:se}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){le(e)})),console.log(ie)}),[X]),Object(j.jsx)("div",{className:"grid-container",children:Object(j.jsxs)(l.a,{children:[Object(j.jsx)("header",{children:Object(j.jsx)("nav",{children:Object(j.jsx)("ul",{children:n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/tasks",activeClassName:"active-link",children:"Task List"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/add-task",activeClassName:"active-link",children:"Add Task"})}),Object(j.jsx)("li",{children:Object(j.jsxs)(l.b,{to:"/",activeClassName:"active-link",onClick:function(){return c(!1)},children:[d," Logout"]})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/",activeClassName:"active-link",children:"Login"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/signup",activeClassName:"active-link",children:"Signup"})})]})})})}),Object(j.jsx)("main",{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/signup",children:Object(j.jsxs)("div",{className:"form-wrapper",children:[Object(j.jsx)("h1",{children:"Signup here"}),Object(j.jsxs)("div",{className:"form-content",children:[Object(j.jsx)("label",{className:"error",children:M}),Object(j.jsx)("label",{className:"result",children:m}),Object(j.jsx)("input",{type:"email",value:C,className:"input-style",placeholder:"Enter Email Id",onChange:function(e){return S(e.target.value)},onFocus:function(){Z(""),x("")}}),Object(j.jsx)("input",{type:"text",value:v,className:"input-style",placeholder:"Enter your name",onChange:function(e){return y(e.target.value)},onFocus:function(){Z(""),x("")}}),Object(j.jsxs)("select",{className:"input-style",onChange:function(e){return R(e.target.value)},onFocus:function(){Z(""),x("")},children:[Object(j.jsx)("option",{value:"",children:"Select Your Role"}),Object(j.jsx)("option",{value:"1",children:"CEO"}),Object(j.jsx)("option",{value:"2",children:"Director"}),Object(j.jsx)("option",{value:"3",children:"Manager"}),Object(j.jsx)("option",{value:"4",children:"Coordinator"}),Object(j.jsx)("option",{value:"0",children:"Admin"})]}),Object(j.jsx)("input",{type:"password",value:A,className:"input-style",placeholder:"Enter Password",onChange:function(e){return F(e.target.value)},onFocus:function(){Z(""),x("")}}),Object(j.jsx)("input",{type:"password",value:P,className:"input-style",placeholder:"Confirm Password",onChange:function(e){return U(e.target.value)},onFocus:function(){Z(""),x("")}}),Object(j.jsx)("button",{type:"button",className:"input-style btn",onClick:function(){var e=C.trim(),t=A.trim(),n=P.trim();if(""!==v.trim()&&""!==e&&""!==J.trim()&&""!==t&&""!==n)if(be(e))if(t===n){var s={};s.name=v,s.email=e,s.password=A,s.groupId=Number(J),console.log(s),fetch("/signup",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.ok?(x(e.msg),Z(""),S(""),y(""),F(""),U(""),R("")):(Z(e.msg),x(""))})).catch((function(e){return Z("Some Problem is going on,Try Later")})),Z(""),x("")}else Z("Confirm Password doesn't Match");else Z("Enter Valid Email Address");else Z("All Fields Are Compulsory")},children:"Signup"})]})]})}),Object(j.jsx)(o.a,{path:"/add-task",children:Object(j.jsx)(u,{error:M,setError:Z,result:m,setResult:x,currentUser:d,taskList:X,setTaskList:ee,update:ue,setUpdate:de})}),Object(j.jsx)(o.a,{path:"/",children:n?Object(j.jsx)(O,{taskList:X,setTaskList:ee,currentUserLevel:se,users:ie,setUsers:le,update:ue,setUpdate:de}):Object(j.jsxs)("div",{className:"form-wrapper",children:[Object(j.jsx)("h1",{children:"Login here"}),Object(j.jsxs)("div",{className:"form-content",children:[Object(j.jsx)("label",{className:"error",children:M}),Object(j.jsx)("label",{className:"result",children:m}),Object(j.jsx)("input",{type:"email",className:"input-style",value:V,onChange:function(e){return Y(e.target.value)},placeholder:"Enter Your Email ID",onFocus:function(){Z(""),x("")}}),Object(j.jsx)("input",{type:"password",className:"input-style",value:q,onChange:function(e){return H(e.target.value)},placeholder:"Enter Password",onFocus:function(){Z(""),x("")}}),Object(j.jsx)("button",{type:"button",className:"input-style btn",onClick:function(){var e=V.trim(),t=q.trim();if(""!==e&&""!==t)if(be(e)){var n={};n.email=e,n.password=t,fetch("/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.ok?(Z(""),Y(""),H(""),x(""),c(!0),b(e.currentUser),ce(e.groupId)):Z(e.msg)}))}else Z("Enter Valid Email Id");else Z("All Fields Are Compulsory")},children:"Login"})]})]})})]})}),Object(j.jsx)("footer",{children:Object(j.jsx)("h3",{children:"\xa9 2021 Developed by Kamalakar G"})})]})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root")),m()}},[[35,1,2]]]);
//# sourceMappingURL=main.4bb52768.chunk.js.map